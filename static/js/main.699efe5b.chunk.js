(this["webpackJsonpformik-ts-app"]=this["webpackJsonpformik-ts-app"]||[]).push([[0],{183:function(e,t,n){},307:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),s=(n(183),n(354)),u=n(91),o=n(34),j=n(16),l=n(166),d=(n(52),n(14)),h=n.n(d),b=n(22),p=n(90),x=n(113),O=n(20),m=n(355),f=n(335),g=n(358),v=n(338),y=n(339),N=n(39),w=n.n(N),C="access-token",k=function(){var e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("http://localhost:5000/users/",{headers:{Authorization:"".concat(C)}});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("http://localhost:5000"+t,{headers:{Authorization:"".concat(C)}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("http://localhost:5000/users/",{headers:{Authorization:"".concat(C)}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a.filter((function(e){return e.firstName.includes(t)})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("http://localhost:5000/users/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("http://localhost:5000/categories/"+t,{headers:{Authorization:"".concat(C)}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=n(2);var T=function(e){var t=Object(j.f)().pathname,n=Object(m.a)(["fetchUsersById",t],(function(){return S(t)})).data,r=void 0===n?[]:n,c=Object(a.useState)(r),i=Object(O.a)(c,2),s=i[0],u=i[1],l=function(e){var t=e.target.id;u(Object(x.a)(Object(x.a)({},r),{},Object(p.a)({},t,e.target.value)))},d=function(){var t=Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.patch("http://localhost:5000/users/"+e.selectedUserID,s,{headers:{"Test-Header":"test"}});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(z.jsx)("div",{className:"App",children:Object(z.jsxs)(f.a,{container:!0,spacing:3,justify:"center",children:[Object.entries(r).map((function(e){return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(f.a,{item:!0,xs:8,children:[Object(z.jsx)(g.a,{shrink:!0,children:e[0]}),Object(z.jsx)(v.a,{id:e[0],defaultValue:e[1],name:e[0],type:"text",fullWidth:!0,onChange:l})]})})})),Object(z.jsx)(f.a,{item:!0,xs:8,children:Object(z.jsx)(o.b,{to:"/",children:Object(z.jsx)(y.a,{variant:"contained",color:"primary",children:"Back"})})}),Object(z.jsx)(y.a,{variant:"contained",color:"primary",onClick:d,children:"Submit"})]})})},B=n(349),U=n(347),Y=n(340),I=n(341),P=n(342),D=n(343),E=n(344),L=n(160),H=n.n(L),J=n(158),W=n.n(J),Q=n(159),R=n.n(Q),V=n(157),M=n.n(V),G=n(156),K=n.n(G);var X=function(e){var t=Object(m.a)("fetchCategories",(function(){return A(e.id)}),{cacheTime:1/0}).data,n=void 0===t?[]:t;return Object(z.jsxs)(Y.a,{size:"small","aria-label":"purchases",children:[Object(z.jsx)(I.a,{children:Object(z.jsxs)(P.a,{children:[Object(z.jsx)(D.a,{children:"Category Name"}),Object(z.jsx)(D.a,{children:"Category Code"})]})}),Object(z.jsxs)(E.a,{children:[Object(z.jsx)(D.a,{component:"th",scope:"row",size:"medium",children:n.name}),Object(z.jsx)(D.a,{component:"th",scope:"row",size:"medium",children:n.id})]})]})},Z=n(345),$=n(346),_=n(352),ee=n(357);var te=function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),r=n[0],c=n[1],i=Object(u.b)(),s=Object(ee.a)(F).mutateAsync,j=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:i.invalidateQueries("fetchUsers");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(P.a,{children:[Object(z.jsx)(D.a,{children:Object(z.jsx)(Z.a,{"aria-label":"expand row",size:"small",onClick:function(){return c(!r)},children:r?Object(z.jsx)(K.a,{}):Object(z.jsx)(M.a,{})})}),Object(z.jsx)(D.a,{component:"th",scope:"row",children:e.user.firstName}),Object(z.jsx)(D.a,{align:"right",children:e.user.lastName}),Object(z.jsx)(D.a,{align:"right",children:e.user.email}),Object(z.jsx)(D.a,{align:"right",children:e.user.age}),Object(z.jsx)(D.a,{align:"right",children:e.user.birthday}),Object(z.jsx)(D.a,{align:"right",children:e.user.companyName}),Object(z.jsx)(D.a,{align:"right",children:e.user.companyYear}),Object(z.jsx)(W.a,{onClick:function(){return j(e.user.id)}}),Object(z.jsx)(o.b,{to:"/users/"+e.user.id,children:Object(z.jsx)(R.a,{})})]}),Object(z.jsx)(P.a,{children:Object(z.jsx)(D.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(z.jsx)($.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(z.jsx)(_.a,{margin:1,children:Object(z.jsx)(X,{id:e.user.id})})})})})]})},ne=n(356),ae=n(348);var re=function(e){var t=Object(a.useState)(""),n=Object(O.a)(t,2),r=n[0],c=n[1];return Object(z.jsx)(ne.a,{open:e.open,children:Object(z.jsxs)(ae.a,{children:[Object(z.jsx)(g.a,{shrink:!0,children:"First Name"}),Object(z.jsx)(v.a,{id:"firstName",name:"firstName",type:"text",fullWidth:!0,onChange:function(e){c(e.target.value)}}),Object(z.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.preventDefault(),e.onSubmit(r)},children:"Apply Filter"})]})})};var ce=function(e){var t=Object(m.a)("fetchUsers",k,{cacheTime:1/0}).data,n=void 0===t?[]:t,r=Object(a.useState)(!1),c=Object(O.a)(r,2),i=c[0],s=c[1],u=Object(a.useState)(""),j=Object(O.a)(u,2),l=j[0],d=j[1],p=Object(m.a)("fetchUsersByFilter",(function(){return q(l)}),{cacheTime:1/0}).data,x=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(d(t),s(!1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{children:[Object(z.jsx)(re,{open:i,onSubmit:x}),Object(z.jsx)(B.a,{component:U.a,children:Object(z.jsxs)(Y.a,{"aria-label":"collapsible table",children:[Object(z.jsx)(I.a,{children:Object(z.jsxs)(P.a,{children:[Object(z.jsx)(D.a,{children:"First Name"}),Object(z.jsx)(D.a,{align:"right",children:"Last Name"}),Object(z.jsx)(D.a,{align:"right",children:"Email"}),Object(z.jsx)(D.a,{align:"right",children:"Age"}),Object(z.jsx)(D.a,{align:"right",children:"Birthday"}),Object(z.jsx)(D.a,{align:"right",children:"Company Name"}),Object(z.jsx)(D.a,{align:"right",children:"Company Year"}),Object(z.jsx)(D.a,{align:"right",children:Object(z.jsx)(o.b,{to:"/user-form",children:Object(z.jsx)(y.a,{variant:"contained",children:"New User"})})}),Object(z.jsx)(H.a,{onClick:function(){return s(!0)}})]})}),Object(z.jsx)(E.a,{children:p?p.map((function(t){return Object(z.jsx)(te,{user:t,onClickHandler:e.onClickHandler},t.id)})):n.map((function(e){return Object(z.jsx)(te,{user:e},e.id)}))})]})})]})},ie=n(44),se=n(351),ue=function(e){return Object(z.jsx)(ie.a,{name:e})};var oe=function(e){return Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(f.a,{container:!0,spacing:3,children:e.data.map((function(t){var n=t.id,a=t.text,r=t.type;return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(f.a,{item:!0,xs:12,children:Object(z.jsx)(se.a,{id:n,fullWidth:!0,label:a,name:n,type:r,onChange:e.handleChange,helperText:ue(n),value:Object(ie.d)(e.values,n)})})})}))})})},je=[{id:"firstName",text:"First Name",type:"text"},{id:"lastName",text:"Last Name",type:"text"},{id:"email",text:"Email",type:"email"}],le=[{id:"age",name:"age",text:"Age",type:"text"},{id:"birthday",name:"age",text:"Birthday",type:"text"}],de=[{id:"companyName",text:"Company Name",type:"text"},{id:"companyYear",text:"Year",type:"text"}],he=n(359);function be(){var e=Object(ie.e)().values,t=Object(a.useState)(!1),n=Object(O.a)(t,2),r=n[0],c=n[1];return Object(z.jsxs)("div",{children:[Object(z.jsx)(y.a,{variant:"outlined",color:"primary",type:"submit",onClick:function(){return c(!0)},children:"Submit"}),Object(z.jsx)(ne.a,{open:r,onClose:function(){c(!1)},children:Object.entries(e).map((function(e){return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(ae.a,{children:Object(z.jsxs)(he.a,{children:[Object(z.jsx)("b",{children:e[0]}),":",e[1]]})})})}))})]})}var pe=n(31),xe=[pe.a().shape({firstName:pe.b().required("firstName is required"),lastName:pe.b().required("lastName is required"),email:pe.b().required("email is required")}),pe.a().shape({age:pe.b().required("age is required"),birthday:pe.b().required("birthday is required")}),pe.a().shape({companyName:pe.b().required("company name is required"),companyYear:pe.b().required("company year is required")})],Oe=["First Page","Second Page","Third Page"],me=function(e,t,n){switch(e){case 0:return Object(z.jsx)(oe,{data:je,handleChange:t,values:n});case 1:return Object(z.jsx)(oe,{data:le,handleChange:t,values:n});case 2:return Object(z.jsx)(oe,{data:de,handleChange:t,values:n});default:return Object(z.jsx)(o.b,{to:"/",children:Object(z.jsx)(y.a,{variant:"contained",color:"primary",children:"Show User list"})})}};var fe=function(){var e=Object(a.useState)(0),t=Object(O.a)(e,2),n=t[0],r=t[1],c=n===Oe.length-1,i=xe[n],s=function(){var e=Object(b.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("http://localhost:5000/users/",t,{headers:{Authorization:"".concat("token")}});case 2:alert(JSON.stringify(t,null,2)),a.setSubmitting(!1),r(n+1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){r(n-1)};return Object(z.jsx)(ie.c,{initialValues:{firstName:"",lastName:"",email:"",age:"",birthday:"",companyName:"",companyYear:""},validationSchema:i,enableReinitialize:!0,onSubmit:function(e,t){c?s(e,t):(r(n+1),t.setTouched({}),t.setSubmitting(!1))},children:function(e){var t=e.isSubmitting,a=e.handleChange,r=e.values;return Object(z.jsx)(ie.b,{className:"App",id:"form",children:Object(z.jsxs)("div",{className:"App",children:[0!==n&&3!==n&&Object(z.jsx)("button",{className:"previous",type:"button",onClick:u,children:"\xab"}),me(n,a,r),c?Object(z.jsx)(be,{}):3===n?"":Object(z.jsx)("button",{disabled:t,className:"next",type:"submit",color:"primary",children:"\xbb"})]})})}})},ge=new s.a;var ve=function(){return Object(z.jsxs)(u.a,{client:ge,children:[Object(z.jsx)(o.a,{children:Object(z.jsxs)(j.c,{children:[Object(z.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(z.jsx)(ce,{})}}),Object(z.jsx)(j.a,{path:"/users/:id",render:function(){return Object(z.jsx)(T,{})}}),Object(z.jsx)(j.a,{path:"/user-form",component:fe})]})}),Object(z.jsx)(l.ReactQueryDevtools,{initialIsOpen:!1})]})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,361)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(z.jsx)(r.a.StrictMode,{children:Object(z.jsx)(ve,{})}),document.getElementById("root")),ye()},52:function(e,t,n){}},[[307,1,2]]]);
//# sourceMappingURL=main.699efe5b.chunk.js.map